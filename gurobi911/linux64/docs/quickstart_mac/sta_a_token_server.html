<!DOCTYPE HTML>

<!--Converted with LaTeX2HTML 2019 (Released January 1, 2019) -->
<HTML lang="EN">
<HEAD>
<TITLE>Starting a token server</TITLE>
<META NAME="description" CONTENT="Starting a token server">
<META NAME="keywords" CONTENT="quickstart_mac">
<META NAME="resource-type" CONTENT="document">
<META NAME="distribution" CONTENT="global">

<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=utf-8">
<META NAME="viewport" CONTENT="width=device-width, initial-scale=1.0">
<META NAME="Generator" CONTENT="LaTeX2HTML v2019">

<LINK REL="STYLESHEET" HREF="quickstart_mac.css">

<LINK REL="next" HREF="upgrading_a_token_server.html">
<LINK REL="previous" HREF="retrieving_a_floating_lice.html">
<LINK REL="next" HREF="upgrading_a_token_server.html">
</HEAD>

<BODY >

<DIV CLASS="navigation"><!--Navigation Panel-->
<A
 HREF="upgrading_a_token_server.html">
<IMG WIDTH="37" HEIGHT="24" ALT="next" SRC="next.png"></A> 
<A
 HREF="setting_up_and_using_a_flo.html">
<IMG WIDTH="26" HEIGHT="24" ALT="up" SRC="up.png"></A> 
<A
 HREF="retrieving_a_floating_lice.html">
<IMG WIDTH="63" HEIGHT="24" ALT="previous" SRC="prev.png"></A>   
<BR>
<B> Next:</B> <A
 HREF="upgrading_a_token_server.html">Upgrading a token server</A>
<B> Up:</B> <A
 HREF="setting_up_and_using_a_flo.html">Setting up and using</A>
<B> Previous:</B> <A
 HREF="retrieving_a_floating_lice.html">Retrieving a Floating license</A>
<BR>
<BR></DIV>
<!--End of Navigation Panel-->

<H3><A ID="SECTION00033200000000000000"></A>
<A ID="subsubsection:starttokenserver"></A>
<BR>
Starting a token server
</H3>

<P>
<B>Important note: most Gurobi licenses do not use the token server.
  You should only follow these instructions if you are setting up
  a floating license.  If you are not sure whether
  you need to start a token server, you can examine the
  contents of your <code>gurobi.lic</code> file.
  If it contains the line <code>TYPE=TOKEN</code>, and does
  not contain the line <code>MACHINELIMIT=0</code>, then you need
  a token server.</B>

<P>
To start the Mac token server daemon, run the program <TT>grb_ts</TT>
(with no arguments) on your token server machine.  You only need to do
this once -- the token server will keep running until you stop it (or
until the machine is shut down).  Be sure that the license key file
has been installed before running this program.  Note that the token
server runs as a user process, so you do not need root privileges to
start it.

<P>
If you would like the token server to restart when the
machine is rebooted, you should ask your system administrator to start
it from <TT>/etc/rc.local</TT>.  If your Gurobi installation and
license key file are in their default locations (either your home directory or <TT>    /Library/gurobi</TT>), add the
following:

<P>
<TT><TT>/Library/gurobi910/mac64</TT>/bin/grb_ts</TT>

<P>
To stop a running token server, you can issue the <TT>grb_ts -s</TT>
command.  You can also use the <TT>ps</TT> command to find the relevant
process ID, and the <TT>kill</TT> command to terminate that process.

<P>
Output from the token server goes to the system log
(<TT>/var/log/system.log</TT>).  You will need to modify
<TT>/etc/syslog.conf</TT> to see these messages, since
by default OS X only allows error message in the system log.
Once you have modified <TT>syslog.conf</TT>,
you should see a message similar to the
following when you start the server:

<P>
<TT>Mar  5 12:37:21 mymachine grb[7917]: Gurobi Token Server started: Sat Mar  5 12:37:21 2020</TT>

<P>
By default, the token server only produces logging output when it
starts.  To obtain more detailed logging information, start the token
server with the <TT>-v</TT> switch.  This will produce a log message
each time a token is checked in or out.

<P>
The token server forks off a separate process that runs in the
background.  Use the <TT>-n</TT> switch to run it in the foreground
instead.

<P>

<P>
<SPAN  CLASS="textbf">Firewalls</SPAN>

<P>
If you run into trouble accessing the token server, check to see if
the server machine is running firewall software (like <EM>Bastille</EM>
or <EM>ipfilter</EM>) that is blocking access to some ports.  The
Gurobi token server uses port number 41954 by default, so you'll need
to open access to that port on the server.  Please consult the
documentation for your firewall software to determine how to do this.
If there's a conflict on the default port, you can choose a different
one by adding a <TT>PORT</TT> line to both the server and the client
license key files:

<P>
<TT>PORT=46325</TT>

<P>
You can choose any available port number.

<P>
<SPAN  CLASS="textbf">Next steps</SPAN>

<P>
Clients of the token server also need simple license files.
Your next step is to set up a
<A HREF="creating_a_token_server_cl.html#subsection:clientlicensetoken">client license</A>.

<P>
Once your token server is running and you've set up a client
license, you can move on to
<A HREF="testing_your_license.html#subsection:testlicense">testing the license</A>.

<P>
Once you've set up a client license, you can test the state of the
token server at any time, as well as get a list of the clients that
are currently using tokens, by typing <code>gurobi_cl --tokens</code>.

<P>

<DIV CLASS="navigation"><HR>
<!--Navigation Panel-->
<A
 HREF="upgrading_a_token_server.html">
<IMG WIDTH="37" HEIGHT="24" ALT="next" SRC="next.png"></A> 
<A
 HREF="setting_up_and_using_a_flo.html">
<IMG WIDTH="26" HEIGHT="24" ALT="up" SRC="up.png"></A> 
<A
 HREF="retrieving_a_floating_lice.html">
<IMG WIDTH="63" HEIGHT="24" ALT="previous" SRC="prev.png"></A>   
<BR>
<B> Next:</B> <A
 HREF="upgrading_a_token_server.html">Upgrading a token server</A>
<B> Up:</B> <A
 HREF="setting_up_and_using_a_flo.html">Setting up and using</A>
<B> Previous:</B> <A
 HREF="retrieving_a_floating_lice.html">Retrieving a Floating license</A></DIV>
<!--End of Navigation Panel-->

</BODY>
</HTML>
